{
	"name": "Design Events",
	"events": [
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-start-of-layout",
					"objectClass": "System",
					"sid": 694407024252418
				}
			],
			"actions": [
				{
					"id": "request-project-file",
					"objectClass": "AJAX",
					"sid": 881121327196867,
					"parameters": {
						"tag": "\"BladeTypes\"",
						"file": "BladeTypes.json"
					}
				},
				{
					"id": "request-project-file",
					"objectClass": "AJAX",
					"sid": 413298421648847,
					"parameters": {
						"tag": "\"HiltTypes\"",
						"file": "HiltTypes.json"
					}
				},
				{
					"id": "request-project-file",
					"objectClass": "AJAX",
					"sid": 556715835842968,
					"parameters": {
						"tag": "\"StyleTypes\"",
						"file": "StyleTypes.json"
					}
				}
			],
			"sid": 282188356812472
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-completed",
					"objectClass": "AJAX",
					"sid": 541055732860238,
					"parameters": {
						"tag": "\"BladeTypes\""
					}
				}
			],
			"actions": [
				{
					"id": "load",
					"objectClass": "BladeTypes",
					"sid": 297883064061025,
					"parameters": {
						"json": "AJAX.LastData"
					}
				}
			],
			"sid": 621630582550141,
			"children": [
				{
					"eventType": "variable",
					"name": "index",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 881729714644844
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 558031381506111,
							"parameters": {
								"object": "BladeButtons"
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 720586550133785,
							"parameters": {
								"variable": "index",
								"value": "floor(random(6)+1)"
							}
						},
						{
							"id": "set-animation",
							"objectClass": "BladeButtons",
							"sid": 191910817555357,
							"parameters": {
								"animation": "BladeTypes.At(0, index)",
								"from": "beginning"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "BladeButtons",
							"sid": 792309634881947,
							"parameters": {
								"instance-variable": "DataIndex",
								"value": "index"
							}
						}
					],
					"sid": 430482255085098
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-completed",
					"objectClass": "AJAX",
					"sid": 753364356683429,
					"parameters": {
						"tag": "\"HiltTypes\""
					}
				}
			],
			"actions": [
				{
					"id": "load",
					"objectClass": "HiltTypes",
					"sid": 247086430603738,
					"parameters": {
						"json": "AJAX.LastData"
					}
				}
			],
			"sid": 623295008646401,
			"children": [
				{
					"eventType": "variable",
					"name": "index",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 367486142381693
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 713014428821303,
							"parameters": {
								"object": "HiltButtons"
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 574420164998521,
							"parameters": {
								"variable": "index",
								"value": "floor(random(6)+1)"
							}
						},
						{
							"id": "set-animation",
							"objectClass": "HiltButtons",
							"sid": 748153215206880,
							"parameters": {
								"animation": "HiltTypes.At(0, index)",
								"from": "beginning"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "HiltButtons",
							"sid": 318541044727897,
							"parameters": {
								"instance-variable": "DataIndex",
								"value": "index"
							}
						}
					],
					"sid": 494532971743404
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-completed",
					"objectClass": "AJAX",
					"sid": 617340167668289,
					"parameters": {
						"tag": "\"StyleTypes\""
					}
				}
			],
			"actions": [
				{
					"id": "load",
					"objectClass": "StyleTypes",
					"sid": 960300153347828,
					"parameters": {
						"json": "AJAX.LastData"
					}
				}
			],
			"sid": 947691523724488,
			"children": [
				{
					"eventType": "variable",
					"name": "index",
					"type": "number",
					"initialValue": "0",
					"comment": "",
					"isStatic": false,
					"isConstant": false,
					"sid": 403575525738199
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "for-each",
							"objectClass": "System",
							"sid": 682346073447816,
							"parameters": {
								"object": "StyleButtons"
							}
						}
					],
					"actions": [
						{
							"id": "set-eventvar-value",
							"objectClass": "System",
							"sid": 762721873828482,
							"parameters": {
								"variable": "index",
								"value": "floor(random(6)+1)"
							}
						},
						{
							"id": "set-animation",
							"objectClass": "StyleButtons",
							"sid": 332121661330170,
							"parameters": {
								"animation": "StyleTypes.At(0, index)",
								"from": "beginning"
							}
						},
						{
							"id": "set-instvar-value",
							"objectClass": "StyleButtons",
							"sid": 942709850137030,
							"parameters": {
								"instance-variable": "DataIndex",
								"value": "index"
							}
						}
					],
					"sid": 973411254901660
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-tap-object",
					"objectClass": "Touch",
					"sid": 480356263866601,
					"parameters": {
						"object": "BladeButtons"
					}
				}
			],
			"actions": [
				{
					"id": "set-instvar-value",
					"objectClass": "DesignController",
					"sid": 265439639809792,
					"parameters": {
						"instance-variable": "BladeType",
						"value": "BladeButtons.AnimationName"
					}
				},
				{
					"id": "set-instvar-value",
					"objectClass": "DesignController",
					"sid": 434499627510179,
					"parameters": {
						"instance-variable": "BladeIndex",
						"value": "BladeButtons.DataIndex"
					}
				},
				{
					"callFunction": "SetMaterial",
					"sid": 706704500655648
				}
			],
			"sid": 830871874233181,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-by-evaluate",
							"objectClass": "System",
							"sid": 901163414931525,
							"parameters": {
								"object": "Label",
								"expression": "Label.UID = 41"
							}
						}
					],
					"actions": [
						{
							"id": "set-text",
							"objectClass": "Label",
							"sid": 964922931246433,
							"parameters": {
								"text": "\"[b]Blade Material:[/b]\" & newline & BladeButtons.AnimationName"
							}
						}
					],
					"sid": 382218744592541
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-tap-object",
					"objectClass": "Touch",
					"sid": 699048770859296,
					"parameters": {
						"object": "HiltButtons"
					}
				}
			],
			"actions": [
				{
					"id": "set-instvar-value",
					"objectClass": "DesignController",
					"sid": 881808517037603,
					"parameters": {
						"instance-variable": "HiltIndex",
						"value": "HiltButtons.DataIndex"
					}
				},
				{
					"id": "set-instvar-value",
					"objectClass": "DesignController",
					"sid": 334040390020885,
					"parameters": {
						"instance-variable": "HiltType",
						"value": "HiltButtons.AnimationName"
					}
				},
				{
					"callFunction": "SetMaterial",
					"sid": 752070479425225
				}
			],
			"sid": 431606350091080,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-by-evaluate",
							"objectClass": "System",
							"sid": 130787664661894,
							"parameters": {
								"object": "Label",
								"expression": "Label.UID = 42"
							}
						}
					],
					"actions": [
						{
							"id": "set-text",
							"objectClass": "Label",
							"sid": 460404846172466,
							"parameters": {
								"text": "\"[b]Hilt Type:[/b]\" & newline & HiltButtons.AnimationName"
							}
						}
					],
					"sid": 439596191364225
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-tap-object",
					"objectClass": "Touch",
					"sid": 794552699918599,
					"parameters": {
						"object": "StyleButtons"
					}
				}
			],
			"actions": [
				{
					"id": "set-instvar-value",
					"objectClass": "DesignController",
					"sid": 774316462990819,
					"parameters": {
						"instance-variable": "StyleIndex",
						"value": "StyleButtons.DataIndex"
					}
				},
				{
					"id": "set-instvar-value",
					"objectClass": "DesignController",
					"sid": 895179939989828,
					"parameters": {
						"instance-variable": "StyleType",
						"value": "StyleButtons.AnimationName"
					}
				},
				{
					"callFunction": "SetMaterial",
					"sid": 721676213034346
				}
			],
			"sid": 691583017602691,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "pick-by-evaluate",
							"objectClass": "System",
							"sid": 199643879078100,
							"parameters": {
								"object": "Label",
								"expression": "Label.UID = 40"
							}
						}
					],
					"actions": [
						{
							"id": "set-text",
							"objectClass": "Label",
							"sid": 924589066956651,
							"parameters": {
								"text": "\"[b]Style:[/b]\" & newline & StyleButtons.AnimationName"
							}
						}
					],
					"sid": 984310734264330
				}
			]
		},
		{
			"functionName": "SetMaterial",
			"functionDescription": "Highlight the button with the selected material, and update the attributes of the sword.",
			"functionCategory": "",
			"functionReturnType": "none",
			"functionCopyPicked": false,
			"functionIsAsync": false,
			"functionParameters": [],
			"eventType": "function-block",
			"conditions": [],
			"actions": [
				{
					"id": "set-scale",
					"objectClass": "StyleButtons",
					"sid": 668233595599121,
					"parameters": {
						"scale": "1"
					}
				},
				{
					"id": "set-scale",
					"objectClass": "HiltButtons",
					"sid": 223436898240727,
					"parameters": {
						"scale": "1"
					}
				},
				{
					"id": "set-scale",
					"objectClass": "BladeButtons",
					"sid": 726227766037278,
					"parameters": {
						"scale": "1"
					}
				},
				{
					"type": "script",
					"script": "const dc = runtime.objects.DesignController.getFirstInstance();\nlet dmgTotal = 0;\nlet spdTotal = 0;\nlet durTotal = 0;\nif (dc.instVars.BladeType) {\n\tconst bladeTypeData = runtime.objects.BladeTypes.getFirstInstance();\n\tconst bladeIndex = dc.instVars.BladeIndex;\n\tdmgTotal += bladeTypeData.getAt(1, bladeIndex);\n\tspdTotal += bladeTypeData.getAt(2, bladeIndex);\n\tdurTotal += bladeTypeData.getAt(3, bladeIndex);\n}\nif (dc.instVars.HiltType) {\n\tconst hiltTypeData = runtime.objects.HiltTypes.getFirstInstance();\n\tconst hiltIndex = dc.instVars.HiltIndex;\n\tdmgTotal += hiltTypeData.getAt(1, hiltIndex);\n\tspdTotal += hiltTypeData.getAt(2, hiltIndex);\n\tdurTotal += hiltTypeData.getAt(3, hiltIndex);\n}\nif (dc.instVars.StyleType) {\n\tconst styleTypeData = runtime.objects.StyleTypes.getFirstInstance();\n\tconst styleIndex = dc.instVars.StyleIndex;\n\tdmgTotal += styleTypeData.getAt(1, styleIndex);\n\tspdTotal += styleTypeData.getAt(2, styleIndex);\n\tdurTotal += styleTypeData.getAt(3, styleIndex);\n}\ndc.instVars.DMG = dmgTotal;\ndc.instVars.SPD = spdTotal;\ndc.instVars.DUR = durTotal;\nconst attributeArray = [];\nattributeArray.push(`[b]DMG[/b]: ${dmgTotal}`);\nattributeArray.push(`[b]SPD[/b]: ${spdTotal}`);\nattributeArray.push(`[b]DUR[/b]: ${durTotal}`);\nattributeArray.push(`[b]Total Enhancement[/b]: ${dmgTotal + spdTotal + durTotal}`);\nruntime.objects.WeaponAttributes.getFirstInstance().text = attributeArray.join(\"\\n\");"
				}
			],
			"sid": 753129198106110,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-animation-playing",
							"objectClass": "StyleButtons",
							"sid": 526454995945054,
							"parameters": {
								"animation": "DesignController.StyleType"
							}
						}
					],
					"actions": [
						{
							"id": "set-scale",
							"objectClass": "StyleButtons",
							"sid": 436735833705281,
							"parameters": {
								"scale": "1.5"
							}
						}
					],
					"sid": 439828131290268
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-animation-playing",
							"objectClass": "HiltButtons",
							"sid": 390963794317362,
							"parameters": {
								"animation": "DesignController.HiltType"
							}
						}
					],
					"actions": [
						{
							"id": "set-scale",
							"objectClass": "HiltButtons",
							"sid": 518421895241521,
							"parameters": {
								"scale": "1.5"
							}
						}
					],
					"sid": 506001749300100
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "is-animation-playing",
							"objectClass": "BladeButtons",
							"sid": 156241620225540,
							"parameters": {
								"animation": "DesignController.BladeType"
							}
						}
					],
					"actions": [
						{
							"id": "set-scale",
							"objectClass": "BladeButtons",
							"sid": 393817739839282,
							"parameters": {
								"scale": "1.5"
							}
						}
					],
					"sid": 543687655406611
				},
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "evaluate-expression",
							"objectClass": "System",
							"sid": 690824025254313,
							"parameters": {
								"value": "DesignController.BladeType"
							}
						},
						{
							"id": "evaluate-expression",
							"objectClass": "System",
							"sid": 821208953604505,
							"parameters": {
								"value": "DesignController.StyleType"
							}
						},
						{
							"id": "evaluate-expression",
							"objectClass": "System",
							"sid": 341873932677444,
							"parameters": {
								"value": "DesignController.HiltType"
							}
						}
					],
					"actions": [
						{
							"id": "set-visible",
							"objectClass": "ForgeLabel",
							"sid": 172363858092236,
							"parameters": {
								"visibility": "visible"
							}
						}
					],
					"sid": 802567646905442
				}
			]
		},
		{
			"eventType": "block",
			"conditions": [
				{
					"id": "on-tap-object",
					"objectClass": "Touch",
					"sid": 914844991811006,
					"parameters": {
						"object": "ForgeButton"
					}
				}
			],
			"actions": [],
			"sid": 648628112498373,
			"children": [
				{
					"eventType": "block",
					"conditions": [
						{
							"id": "evaluate-expression",
							"objectClass": "System",
							"sid": 114003603898453,
							"parameters": {
								"value": "DesignController.BladeType"
							}
						},
						{
							"id": "evaluate-expression",
							"objectClass": "System",
							"sid": 617697051223731,
							"parameters": {
								"value": "DesignController.StyleType"
							}
						},
						{
							"id": "evaluate-expression",
							"objectClass": "System",
							"sid": 207863939546978,
							"parameters": {
								"value": "DesignController.HiltType"
							}
						}
					],
					"actions": [
						{
							"id": "go-to-layout",
							"objectClass": "System",
							"sid": 498551924365454,
							"parameters": {
								"layout": "Smithy Layout"
							}
						}
					],
					"sid": 242569578385385
				}
			]
		}
	],
	"sid": 664807854520110
}